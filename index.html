<!DOCTYPE html>
<html>
<head>
    <!-- Embed -->
    <title>Squishy Site</title>
    <meta property="og:title" content="Squishy Site">
    <meta property="og:description" content='SM64CoopDX Develeoper, Squishy T. "Madeline" Server'>
    <!-- 
    <link rel="icon" type="image/x-icon" href="images/icons/hat-logo.png">
    <meta property="og:image" content="https://squishy6094.github.io/images/icons/hat-logo.png">
    -->
    <style>
        body {
            background-color: #333;
        }
    </style>
</head>

<script type="text/javascript" src="djui-js/djui.js"></script>
<script type="text/javascript">

    SOUND_CHECKPOINT = new Audio('sound/Checkpoint.ogg');

    TEX_LOGO = get_texture_info("textures/wip-logo.png")
    logoScale = 6

    socialLinks = [
        {image:TEX_LOGO, link: "https://bsky.app/profile/squishy6094.github.io", y:300},
        {image:TEX_LOGO, link: "https://bsky.app/profile/squishy6094.github.io", y:300},
        {image:TEX_LOGO, link: "https://bsky.app/profile/squishy6094.github.io", y:300},
    ]

    color = [0, 100, 0]
    timer = 0
    titleClick = false
    titleOffset = djui_hud_get_screen_width()*0.25
    titleScaleSpin = 2
    logoFlash = 0
    function hud_render() {
        djui_hud_set_resolution(RESOLUTION_DJUI)
        screenWidth = djui_hud_get_screen_width()
        screenHeight = djui_hud_get_screen_height()

        djui_hud_set_color(0, 0, 0, logoFlash)
        djui_hud_render_rect(0, 0, screenWidth, screenHeight)

        // Work In Progress Text
        timer = timer + 1
        x = -Math.tan(timer*0.02 - 1.1)*screenWidth/3 + screenWidth*0.5
        wipText = "Work In Progress!!!"
        djui_hud_set_color(0, 0, 0, 100)
        djui_hud_render_rect(0, 10, screenWidth, 60)
        djui_hud_set_color(255, 255, 255, 255)
        djui_hud_print_text(wipText, 20 + x, 20, 2)

        // Title Screen
        logoTilt = Math.sin(timer*0.1)/Math.PI*0x1000
        djui_hud_set_color(255, 255, 255, 255)
        djui_hud_set_rotation(logoTilt, 0.5, 0.5)
        SpinMath = (Math.sin((titleScaleSpin + 0.5)*Math.PI))
        djui_hud_render_texture(TEX_LOGO, screenWidth*0.25 + titleOffset - TEX_LOGO.naturalWidth*logoScale*0.5 * SpinMath, screenHeight*0.5 - TEX_LOGO.naturalHeight*logoScale*0.5 - (Math.sin((titleOffset/(screenWidth*0.25))*Math.PI)*70), logoScale * SpinMath, logoScale)
        djui_hud_set_rotation(0, 0, 0)
        if (djui_hud_get_mouse_buttons_released() && titleClick != true) {
            titleClick = true
            SOUND_CHECKPOINT.play()
            logoFlash = 150
        }

        mouseX = djui_hud_get_mouse_x()
        mouseY = djui_hud_get_mouse_y()

        // Bottom Socials
        if (titleClick) {
            for (let i in socialLinks) {
                socialLinks[i].y = socialLinks[i].y * (0.85 + (i*0.09/socialLinks.length))
                x = (i - socialLinks.length*0.5)*80 + screenWidth*0.25
                y = screenHeight - 100 + socialLinks[i].y
                djui_hud_set_color(255, 255, 255, 255)
                
                djui_hud_render_texture(socialLinks[i].image, x, y, 1, 1)

                if ((mouseX > x && mouseX < x + 64) && (mouseY > y && mouseY < y + 64) && djui_hud_get_mouse_buttons_released()) {
                    window.open(socialLinks[i].link)
                }
            }
            titleOffset = titleOffset *0.92
            titleScaleSpin = titleScaleSpin*0.90
            logoFlash = logoFlash*0.90
        } else {
            titleOffset = screenWidth*0.25
        }
    }

    hook_event(hud_render);   
</script>
</html> 
